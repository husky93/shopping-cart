{"version":3,"file":"static/js/384.752c49f4.chunk.js","mappings":"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","sources":["app/hooks.js","pages/product/Product.js"],"sourcesContent":["import { useRef, useState, useEffect } from 'react';\n\nexport const useObserver = () => {\n  const containerRef = useRef(null);\n  const [isVisible, setIsVisible] = useState(false);\n\n  const handleIntersection = (entries) => {\n    const [entry] = entries;\n    setIsVisible(entry.isIntersecting);\n    console.log(entry);\n  };\n\n  const options = { root: null, rootMargin: '0px', threshold: 0.1 };\n\n  useEffect(() => {\n    const observer = new IntersectionObserver(handleIntersection, options);\n    if (containerRef.current) observer.observe(containerRef.current);\n\n    return () => {\n      if (containerRef.current) observer.unobserve(containerRef.current);\n    };\n  }, [containerRef, options]);\n\n  return { containerRef, isVisible };\n};\n","import React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { useObserver } from '../../app/hooks';\nimport '../../assets/styles/product/Product.css';\n\nconst Header = React.lazy(() => import('../../sections/header/Header'));\nconst Footer = React.lazy(() => import('../../sections/footer/Footer'));\nconst Text = React.lazy(() => import('../../components/Text'));\nconst Button = React.lazy(() => import('../../components/Button'));\nconst Counter = React.lazy(() => import('../../components/Counter'));\nconst Loading = React.lazy(() => import('../loading/Loading'));\n\nconst Product = ({ products, addToCart, cartCount }) => {\n  const [product, setProduct] = useState(null);\n  const [count, setCount] = useState(1);\n  const [loading, setLoading] = useState(true);\n  const { containerRef, isVisible } = useObserver();\n  const params = useParams();\n\n  useEffect(() => {\n    const currentProduct = products.find((prod) => prod.id === params.id);\n    setProduct(currentProduct);\n    setLoading(false);\n  }, [params.id, products, product]);\n\n  const handleIncrement = () => {\n    if (count < 10) {\n      setCount(count + 1);\n    }\n  };\n\n  const handleDecrement = () => {\n    if (count > 1) {\n      setCount(count - 1);\n    }\n  };\n\n  const renderContent = () => {\n    if (loading) {\n      return <Loading />;\n    }\n    if (product) {\n      return (\n        <>\n          <div className=\"product__container product__gallery\">\n            <img\n              src={product.img}\n              alt={product.text}\n              className=\"product__img\"\n            />\n          </div>\n          <div className=\"product__container product__info\">\n            <Text\n              className=\"product__heading text--highlighted\"\n              tag=\"h2\"\n              text={product.text}\n            />\n            <Text\n              className=\"product__description\"\n              tag=\"p\"\n              text={product.description}\n            />\n            <Text\n              className=\"product__price\"\n              tag=\"span\"\n              text={[\n                'Price: ',\n                <span key=\"product-price\">{product.price}</span>,\n              ]}\n            />\n            <div className=\"counter__container\">\n              <Text className=\"product__price\" tag=\"p\" text={['Quantity: ']} />\n              <Counter\n                count={count}\n                handleIncrement={handleIncrement}\n                handleDecrement={handleDecrement}\n              />\n            </div>\n\n            <Button\n              className=\"btn btn--primary\"\n              handleClick={addToCart}\n              productId={params.id}\n              count={count}\n              text={\n                <span\n                  key=\"add-to-cart\"\n                  data-product={params.id}\n                  data-count={count}\n                >\n                  Add to cart\n                </span>\n              }\n            />\n          </div>\n        </>\n      );\n    }\n\n    return (\n      <Text\n        className=\"error__heading\"\n        tag=\"h2\"\n        text=\"ERROR 404 PRODUCT NOT FOUND\"\n      />\n    );\n  };\n\n  return (\n    <main className=\"product\" ref={containerRef}>\n      <Header cartCount={cartCount} />\n      <div\n        className={`content product__content enter-transition ${\n          isVisible ? 'in-viewport' : ''\n        }`}\n      >\n        {renderContent()}\n      </div>\n      <Footer />\n    </main>\n  );\n};\n\nexport default Product;\n"],"names":["useObserver","containerRef","useRef","useState","isVisible","setIsVisible","handleIntersection","entries","entry","isIntersecting","console","log","options","root","rootMargin","threshold","useEffect","observer","IntersectionObserver","current","observe","unobserve","Header","React","Footer","Text","Button","Counter","Loading","products","addToCart","cartCount","product","setProduct","count","setCount","loading","setLoading","params","useParams","currentProduct","find","prod","id","handleIncrement","handleDecrement","className","ref","src","img","alt","text","tag","description","price","handleClick","productId"],"sourceRoot":""}