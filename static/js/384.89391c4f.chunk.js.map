{"version":3,"file":"static/js/384.89391c4f.chunk.js","mappings":"wKAEaA,EAAc,WACzB,IAAMC,GAAeC,EAAAA,EAAAA,QAAO,MAC5B,GAAkCC,EAAAA,EAAAA,WAAS,GAA3C,eAAOC,EAAP,KAAkBC,EAAlB,KAEMC,EAAqB,SAACC,GAC1B,IAAOC,GAAP,OAAgBD,EAAhB,MACAF,EAAaG,EAAMC,gBACnBC,QAAQC,IAAIH,EACb,EAEKI,EAAU,CAAEC,KAAM,KAAMC,WAAY,MAAOC,UAAW,IAW5D,OATAC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAW,IAAIC,qBAAqBZ,EAAoBM,GAG9D,OAFIX,EAAakB,SAASF,EAASG,QAAQnB,EAAakB,SAEjD,WACDlB,EAAakB,SAASF,EAASI,UAAUpB,EAAakB,QAC3D,CACF,GAAE,CAAClB,EAAcW,IAEX,CAAEX,aAAAA,EAAcG,UAAAA,EACxB,C,oHCnBKkB,EAASC,EAAAA,MAAW,kBAAM,qCAAN,IACpBC,EAASD,EAAAA,MAAW,kBAAM,qCAAN,IACpBE,EAAOF,EAAAA,MAAW,kBAAM,qCAAN,IAClBG,EAASH,EAAAA,MAAW,kBAAM,4BAAN,IACpBI,EAAUJ,EAAAA,MAAW,kBAAM,4BAAN,IAwG3B,EAtGgB,SAAC,GAAwC,IAAtCK,EAAqC,EAArCA,SAAUC,EAA2B,EAA3BA,UAAWC,EAAgB,EAAhBA,UACtC,GAA8B3B,EAAAA,EAAAA,UAAS,MAAvC,eAAO4B,EAAP,KAAgBC,EAAhB,KACA,GAA0B7B,EAAAA,EAAAA,UAAS,GAAnC,eAAO8B,EAAP,KAAcC,EAAd,KACA,GAAoClC,EAAAA,EAAAA,KAA5BC,EAAR,EAAQA,aAAcG,EAAtB,EAAsBA,UAChB+B,GAASC,EAAAA,EAAAA,OAEfpB,EAAAA,EAAAA,YAAU,WACR,IAAMqB,EAAiBT,EAASU,MAAK,SAACC,GAAD,OAAUA,EAAKC,KAAOL,EAAOK,EAA7B,IACrCR,EAAWK,EACZ,GAAE,CAACF,EAAOK,GAAIZ,EAAUG,IAczB,OAAKA,GAcD,kBAAMU,UAAU,UAAUC,IAAKzC,EAA/B,WACE,SAACqB,EAAD,CAAQQ,UAAWA,KACnB,iBACEW,UAAS,oDACPrC,EAAY,cAAgB,IAFhC,WAKE,gBAAKqC,UAAU,sCAAf,UACE,gBACEE,IAAKZ,EAAQa,IACbC,IAAKd,EAAQe,KACbL,UAAU,oBAGd,iBAAKA,UAAU,mCAAf,WACE,SAAChB,EAAD,CACEgB,UAAU,qCACVM,IAAI,KACJD,KAAMf,EAAQe,QAEhB,SAACrB,EAAD,CACEgB,UAAU,uBACVM,IAAI,IACJD,KAAMf,EAAQiB,eAEhB,SAACvB,EAAD,CACEgB,UAAU,iBACVM,IAAI,OACJD,KAAM,CACJ,WACA,0BAA2Bf,EAAQkB,OAAzB,qBAGd,iBAAKR,UAAU,qBAAf,WACE,SAAChB,EAAD,CAAMgB,UAAU,iBAAiBM,IAAI,IAAID,KAAM,CAAC,iBAChD,SAACnB,EAAD,CACEM,MAAOA,EACPiB,gBA/DU,WAClBjB,EAAQ,IACVC,EAASD,EAAQ,EAEpB,EA4DakB,gBA1DU,WAClBlB,EAAQ,GACVC,EAASD,EAAQ,EAEpB,QA0DS,SAACP,EAAD,CACEe,UAAU,mBACVW,YAAavB,EACbwB,UAAWlB,EAAOK,GAClBP,MAAOA,EACPa,MACE,iBAEE,eAAcX,EAAOK,GACrB,aAAYP,EAHd,wBACM,wBAUd,SAACT,EAAD,QAvEF,kBAAMiB,UAAU,UAAUC,IAAKzC,EAA/B,WACE,SAACqB,EAAD,CAAQQ,UAAWA,KACnB,SAACL,EAAD,CACEgB,UAAU,iBACVM,IAAI,KACJD,KAAK,iCAEP,SAACtB,EAAD,MAoEP,C","sources":["app/hooks.js","pages/product/Product.js"],"sourcesContent":["import { useRef, useState, useEffect } from 'react';\n\nexport const useObserver = () => {\n  const containerRef = useRef(null);\n  const [isVisible, setIsVisible] = useState(false);\n\n  const handleIntersection = (entries) => {\n    const [entry] = entries;\n    setIsVisible(entry.isIntersecting);\n    console.log(entry);\n  };\n\n  const options = { root: null, rootMargin: '0px', threshold: 0.1 };\n\n  useEffect(() => {\n    const observer = new IntersectionObserver(handleIntersection, options);\n    if (containerRef.current) observer.observe(containerRef.current);\n\n    return () => {\n      if (containerRef.current) observer.unobserve(containerRef.current);\n    };\n  }, [containerRef, options]);\n\n  return { containerRef, isVisible };\n};\n","import React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { useObserver } from '../../app/hooks';\nimport '../../assets/styles/product/Product.css';\n\nconst Header = React.lazy(() => import('../../sections/header/Header'));\nconst Footer = React.lazy(() => import('../../sections/footer/Footer'));\nconst Text = React.lazy(() => import('../../components/Text'));\nconst Button = React.lazy(() => import('../../components/Button'));\nconst Counter = React.lazy(() => import('../../components/Counter'));\n\nconst Product = ({ products, addToCart, cartCount }) => {\n  const [product, setProduct] = useState(null);\n  const [count, setCount] = useState(1);\n  const { containerRef, isVisible } = useObserver();\n  const params = useParams();\n\n  useEffect(() => {\n    const currentProduct = products.find((prod) => prod.id === params.id);\n    setProduct(currentProduct);\n  }, [params.id, products, product]);\n\n  const handleIncrement = () => {\n    if (count < 10) {\n      setCount(count + 1);\n    }\n  };\n\n  const handleDecrement = () => {\n    if (count > 1) {\n      setCount(count - 1);\n    }\n  };\n\n  if (!product) {\n    return (\n      <main className=\"product\" ref={containerRef}>\n        <Header cartCount={cartCount} />\n        <Text\n          className=\"error__heading\"\n          tag=\"h2\"\n          text=\"ERROR 404 PRODUCT NOT FOUND\"\n        />\n        <Footer />\n      </main>\n    );\n  } else {\n    return (\n      <main className=\"product\" ref={containerRef}>\n        <Header cartCount={cartCount} />\n        <div\n          className={`content product__content enter-transition ${\n            isVisible ? 'in-viewport' : ''\n          }`}\n        >\n          <div className=\"product__container product__gallery\">\n            <img\n              src={product.img}\n              alt={product.text}\n              className=\"product__img\"\n            />\n          </div>\n          <div className=\"product__container product__info\">\n            <Text\n              className=\"product__heading text--highlighted\"\n              tag=\"h2\"\n              text={product.text}\n            />\n            <Text\n              className=\"product__description\"\n              tag=\"p\"\n              text={product.description}\n            />\n            <Text\n              className=\"product__price\"\n              tag=\"span\"\n              text={[\n                'Price: ',\n                <span key=\"product-price\">{product.price}</span>,\n              ]}\n            />\n            <div className=\"counter__container\">\n              <Text className=\"product__price\" tag=\"p\" text={['Quantity: ']} />\n              <Counter\n                count={count}\n                handleIncrement={handleIncrement}\n                handleDecrement={handleDecrement}\n              />\n            </div>\n\n            <Button\n              className=\"btn btn--primary\"\n              handleClick={addToCart}\n              productId={params.id}\n              count={count}\n              text={\n                <span\n                  key=\"add-to-cart\"\n                  data-product={params.id}\n                  data-count={count}\n                >\n                  Add to cart\n                </span>\n              }\n            />\n          </div>\n        </div>\n        <Footer />\n      </main>\n    );\n  }\n};\n\nexport default Product;\n"],"names":["useObserver","containerRef","useRef","useState","isVisible","setIsVisible","handleIntersection","entries","entry","isIntersecting","console","log","options","root","rootMargin","threshold","useEffect","observer","IntersectionObserver","current","observe","unobserve","Header","React","Footer","Text","Button","Counter","products","addToCart","cartCount","product","setProduct","count","setCount","params","useParams","currentProduct","find","prod","id","className","ref","src","img","alt","text","tag","description","price","handleIncrement","handleDecrement","handleClick","productId"],"sourceRoot":""}